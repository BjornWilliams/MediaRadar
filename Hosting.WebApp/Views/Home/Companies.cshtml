
@{
    ViewBag.Title = "Top 5 Parent Companies";
}

<br />
<div class="container" id="content-details"></div>

<script id="CompanyList" type="text/ractive">
    <!-- Jumbotron Header -->
    <header class="jumbotron my-4">
        <h1 class="display-3">Welcome to MediaRadar!</h1>
        <p class="lead">
            The <b>top five Parent Companies</b> by number of pages, then estimated spend during a single month.
            Keep in mind that a Parent Company may run ads in multiple issues / months. Default sort by number of pages (descending), estimated spend (descending),
            then Parent Company alphabetically.
        </p>
    </header>
    <div>
        <table id="tbl-companies" class="table table-striped table-bordered" cellspacing="0" cellpadding="0">
            <thead class="thead-dark">
                <tr>
                    <th scope="col" class="align-top">Ad Pages</th>
                    <th scope="col" class="align-top">Est Print Spend</th>
                    <th scope="col" class="align-top">Parent Company Id</th>
                    <th scope="col" class="align-top">Parent Company</th>
                    <th scope="col" class="align-top">Publication Id</th>
                    <th scope="col" class="align-top">Publication Name</th>
                    <th scope="col" class="align-top">Month</th>
                </tr>
            </thead>
            <tbody>
                {{#each dataModel}}
                <tr>
                    <td>{{AdPages}}</td>
                    <td>{{EstPrintSpend}}</td>
                    <td>{{ParentCompanyId}}</td>
                    <td>{{ParentCompany}}</td>
                    <td>{{PublicationId}}</td>
                    <td>{{PublicationName}}</td>
                    <td>{{Month}}</td>
                </tr>
                {{/each}}
            </tbody>
        </table>
    </div>
    {{#if isLoading}}
    <div class="spinner-image">
        <img src="/Content/images/Loading.gif" alt="processing..." />
    </div>
    {{/if}}
</script>

@section Scripts {
    <script type="text/javascript">
        $(document).ready(function () {
            new media.PublicationService().loadCompanies("content-details", "CompanyList", "tbl-companies");
        });
    </script>
}

